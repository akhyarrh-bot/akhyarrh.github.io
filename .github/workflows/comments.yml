name: Sync comments from BOT repo to main repo

on:
  push:
    branches:
      - source
  workflow_dispatch:

jobs:
  Sync:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: MDRCNY-Create Pull Request for Another Repository
        uses: MDRCNY/MDRCNY-Actions-CPR@v1.0.1
        env:
          API_TOKEN_GITHUB: ${{ secrets.API_TOKEN_GITHUB }}
        with:
          source_folder: '_data/comments'
          destination_repo: 'akhyarrh/akhyarrh.github.io'
          user_email: '75511704+akhyarrh-bot@users.noreply.github.com'
          user_name: 'akhyarrh-bot'
          destination_base_branch: 'source'
          destination_head_branch: 'sync-comments'
          title: 'Sync comments generated by Staticman'
